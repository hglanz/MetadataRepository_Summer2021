---
title: "Test"
author: "Sucheen Sundaram"
date: "6/21/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(rvest)
library(Frost2021Package)
```

```{r}
test_vest <- read_html("https://datahub.io/higorspinto/car-sales-world-annual")
description <- test_vest %>% html_nodes(".readable-width") %>% html_text()
description %>%
  pluck(2) %>%
  str_remove_all("\n")
```

```{r}
read_html("https://www.kaggle.com/kaggle/meta-kaggle") %>%
  html_nodes(".bpBCZF") %>%
  html_text()

url <- "https://datahub.io/core/natural-gas"
  text <- url %>%
    read_html() %>%
    html_nodes(".no-left-padding th:nth-child(6) , .no-left-padding th:nth-child(5) , .no-left-padding th:nth-child(4) , .no-left-padding th:nth-child(3) , .no-left-padding th:nth-child(2) , .no-left-padding th:nth-child(1)") %>%
    html_text()
df <- data.frame(matrix(ncol = length(text), nrow = 0))
colnames(df) <- text

data <- url %>%
    read_html() %>%
    html_nodes(".format-list~ .col-xs-2+ .col-xs-2 , .format-list , .no-left-padding .col-xs-1")  %>%
    html_text()
data <- data %>%
  str_remove_all("\n")
data[1:4]
data <- rbind(df, text) %>%
  rbind(data) %>%
  rowid_to_column() %>%
  filter(rowid > 1)

url %>%
  read_html() %>%
  html_nodes("h1") %>%
  html_text()

data <- data[,2:length(names(data))]
```

```{r}
scrape_datahub(url)
```

